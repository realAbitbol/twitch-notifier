# Twitch-Notifier

A small and lightweight python application that provides discord notifications when streamers go live but only when they're not in certain categories.

Should help avoiding enduring the painful react section of certain streamers.

üëâ Only sends you one notification a day, per streamer, whenever the streamer switches to a non blacklisted category.

## üíª Running from source
- Clone the repo
- Set the environment variables (see docker-compose below)
- ```pip install --no-cache-dir -r requirements.txt```
- ```python3 scheduler.py``` 

## Running from Docker (recommended)

Install docker using your favorite package manager on Linux or use Docker Desktop on Windows

### ‚öôÔ∏è docker-compose.yml

``` yaml
services:
  twitch-notifier:
    image: damastah/twitch-notifier:latest
    container_name: twitch-notifier
    environment:
      TWITCH_CLIENT_ID: <Create a twitch application and provide the client ID>
      TWITCH_CLIENT_SECRET: <Provide the associated application secret>
      DISCORD_WEBHOOK_URL: <Create a discord webhook on the channel where you want the notifications posted and set it here>
      CHECK_INTERVAL_MINUTES: 1
      STREAMERS_CONFIG: [{"name":"quin69","blocked_categories":["Just Chatting","Special Events","Path of Exile"]},{"name":"streamer2","blocked_categories":["Just Chatting","Category 2","Category 3"]}]
      TZ: Europe/Paris
    volumes:
      - data:/app/data
    restart: unless-stopped

volumes:
  data:
```

## üîß Step-by-Step: Get Twitch Client ID & Secret

- Log into Twitch Dev Console üëâ https://dev.twitch.tv/console
- Create a New Application
- Click ‚Äú+ Register Your Application‚Äù
- Fill out the form:
  - Name: Anything you like (e.g., TwitchNotifier)
  - OAuth Redirect URL: Just put http://localhost (not used for this app, but required)
  - Category: Choose Application Integration
  - Click Create
- Copy Your Credentials
- After creation, click on your app. You'll see:
  - Client ID ‚Äî copy this to TWITCH_CLIENT_ID
  - Click "New Secret" to generate your Client Secret
  - Copy this to TWITCH_CLIENT_SECRET

## üîß Step-by-Step: Create a Discord Webhook

- Open Discord and go to the server and channel where you want notifications.
- Go to Channel Settings : Hover over the channel ‚Üí Click the gear icon
- Go to ‚ÄúIntegrations‚Äù > ‚ÄúWebhooks‚Äù
- Click "Create Webhook"
  - Name it something like TwitchNotifier
  - Optionally, upload an avatar (e.g., Twitch logo)
- Copy the Webhook URL (This URL will look like: https://discord.com/api/webhooks/xxxxxxxx/yyyyyyyy)
- Add it under DISCORD_WEBHOOK_URL=...

## ü§ñ Autogenerated docker images (amd64 and arm64)
https://hub.docker.com/r/damastah/twitch-notifier

## ‚òï Buy me a coffee :)
https://ko-fi.com/realabitbol
